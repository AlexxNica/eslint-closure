function t(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
var u="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function w(a,b){if(b){var c=v;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&u(c,a,{configurable:!0,writable:!0,value:b})}}w("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=t(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var p=0;p<f&&c<e;)if(b[c++]!=a[p++])return!1;return p>=f}});
w("Object.assign",function(a){return a?a:function(a,c){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(a[f]=e[f])}return a}});w("String.prototype.repeat",function(a){return a?a:function(a){var b=t(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});function x(){x=function(){};v.Symbol||(v.Symbol=aa)}var ba=0;
function aa(a){return"jscomp_symbol_"+(a||"")+ba++}function z(){x();var a=v.Symbol.iterator;a||(a=v.Symbol.iterator=v.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&u(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ca(this)}});z=function(){}}function ca(a){var b=0;return da(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function da(a){z();a={next:a};a[v.Symbol.iterator]=function(){return this};return a}
w("Array.from",function(a){return a?a:function(a,c,d){z();c=c?c:function(a){return a};var b=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)b.push(c.call(d,f.value));else for(var f=a.length,p=0;p<f;p++)b.push(c.call(d,a[p]));return b}});w("Array.prototype.findIndex",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var e=b.length,f=0;f<e;f++)if(a.call(c,b[f],f,b)){a=f;break a}a=-1}return a}});var B={K:"constant",L:"leading",C:"no_underscore",M:"middle",N:"opt_prefix",O:"trailing",P:"var_args"};function ea(a){return""!==a&&a.length?a.toUpperCase()===a?B.K:-1===a.indexOf("_")?B.C:"var_args"===a?B.P:"opt_"===a.substring(0,4)&&"opt_"!=a?B.N:"_"===a[0]?B.L:"_"===a[a.length-1]?B.O:B.M:B.C}function E(a){return"ClassExpression"===a.type||"ClassDeclaration"===a.type}function G(a){return a.loc.end.line===a.loc.start.line}function H(a,b){return a.loc.start.line===b.loc.start.line};var fa={U:!1,S:!1,R:!0,T:!0,F:!0};
function ga(a,b){function c(a){return Object.assign(f,{message:a})}function d(d,f){return ha(d,a,b)?e:c(f)}var e={node:a,message:"",W:!1},f={node:a,message:"",W:!0};switch(ea(a.name)){case B.K:return e;case B.L:return b.R?d(a.name.replace(/^_+/g,"").replace(/_+$/g,""),"Identifier '"+a.name+"' is not in camel case after the leading underscore."):c("Leading underscores are not allowed in '"+a.name+"'.");case B.C:return e;case B.M:return d(a.name,"Identifier '"+a.name+"' is not in camel case.");case B.N:return b.S?
d(a.name.replace(/^opt_/g,""),"Identifier '"+a.name+"' is not in camel case after the opt_ prefix."):c("The opt_ prefix is not allowed in '"+a.name+"'.");case B.O:return b.T?d(a.name.replace(/^_+/g,"").replace(/_+$/g,""),"Identifier '"+a.name+"' is not in camel case before the trailing underscore."):c("Trailing underscores are not allowed in '"+a.name+"'.");case B.P:return b.U?e:c("The var_args identifier is not allowed.");default:throw Error("Unknown undercore form: "+a.name);}}
function ha(a,b,c){var d=b.parent;if(!(-1<a.indexOf("_")))return!0;switch(d.type){case "MemberExpression":d=b.parent;if(!c.F)return!0;if(d.property===b)return d.parent&&"AssignmentExpression"===d.parent.type?d.parent.right===d:!0;break;case "Property":d=b.parent;if(!c.F||d.parent&&"ObjectPattern"===d.parent.type&&d.key===b&&d.value!==b)return!0;break;case "CallExpression":return!0}return!1};function ia(a){return" "==a};function ja(){var a=ka;return function(){return!a.apply(this,arguments)}};var I=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"==typeof a)return"string"==typeof b&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<J.length;f++)c=J[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function L(a,b){this.h={};this.c=[];this.f=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof L)for(d=la(a),O(a),e=[],c=0;c<a.c.length;c++)e.push(a.h[a.c[c]]);else{var c=[],f=0;for(d in a)c[f++]=d;d=c;c=[];f=0;for(e in a)c[f++]=a[e];e=c}for(c=0;c<d.length;c++)this.set(d[c],e[c])}}function la(a){O(a);return a.c.concat()}
L.prototype.equals=function(a,b){if(this===a)return!0;if(this.f!=a.f)return!1;b=b||ma;O(this);for(var c,d=0;c=this.c[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function ma(a,b){return a===b}L.prototype.remove=function(a){return P(this.h,a)?(delete this.h[a],this.f--,this.c.length>2*this.f&&O(this),!0):!1};
function O(a){if(a.f!=a.c.length){for(var b=0,c=0;b<a.c.length;){var d=a.c[b];P(a.h,d)&&(a.c[c++]=d);b++}a.c.length=c}if(a.f!=a.c.length){for(var e={},c=b=0;b<a.c.length;)d=a.c[b],P(e,d)||(a.c[c++]=d,e[d]=1),b++;a.c.length=c}}L.prototype.get=function(a,b){return P(this.h,a)?this.h[a]:b};L.prototype.set=function(a,b){P(this.h,a)||(this.f++,this.c.push(a));this.h[a]=b};L.prototype.forEach=function(a,b){for(var c=la(this),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};
L.prototype.clone=function(){return new L(this)};function P(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var na=require("lodash.ismatchwith");function oa(a){return function(b){return pa(b,a)}}function pa(a,b){var c={};return na(a,b,function(a,b){if("function"===typeof b)return a=b(a),b=typeof a,("object"==b&&null!=a||"function"==b)&&K(c,a),!!a})?c:!1}function qa(a){var b;return function(c){var d={};d[a]=c;"object"===typeof b&&(b=oa(b));if("function"===typeof b){c=b(c);if("object"===typeof c)return K(d,c),d;if(!c)return!1}return d}}var T=pa;function ra(a,b){for(a=a.parent;!b(a)&&"Program"!==a.type;)a=a.parent;return b(a)?a:null}function U(a,b){var c=b||"literal";return T(a,{type:"Literal",value:function(a){return"string"===typeof a&&qa(c)(a)}})}function V(a,b){return ra(a,function(a){return a.type==b})}function sa(a){return/^(?:Function(?:Declaration|Expression)|ArrowFunctionExpression)$/.test(a.type)}
function ta(a){return T(a,{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"goog"},property:{type:"Identifier",name:"require"}},arguments:[function(a){return U(a,"source")}]}})}
function ua(a){return T(a,{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"goog"},property:{type:"Identifier",name:"provide"}},arguments:[function(a){return U(a,"source")}]}})}function va(a){return T(a,{type:"ExpressionStatement",expression:function(a){return U(a,"directive")}})};function ka(a){return" "==a||"\t"==a}function wa(a){return"\t"==a}function W(a,b,c,d){a=d?b.getLastToken(a):b.getFirstToken(a);b=Array.from(b.getText(a,a.loc.start.column));a=b.slice(0,b.findIndex(ja()));b=a.filter(ia).length;a=a.filter(wa).length;return{J:b,tab:a,b:"space"===c?b:a,D:"space"===c?a:b}}function X(a,b,c){b=!0===c?b.getLastToken(a,1):b.getTokenBefore(a);return(!0===c?a.loc.end.line:a.loc.start.line)!==(b?b.loc.end.line:-1)}
function xa(a,b){return!!b&&b.parent.loc.start.line===a.loc.start.line&&1<b.parent.declarations.length}function ya(a){if("CallExpression"!==a.parent.type)return!1;a=a.parent;if("MemberExpression"!==a.callee.type)return!1;a=a.callee;if("Identifier"!==a.object.type||"Identifier"!==a.property.type)return!1;var b=a.property;return"goog"===a.object.name&&"scope"===b.name}
function za(a){return a.declarations.reduce(function(b,c){var d=b[b.length-1];(c.loc.start.line!==a.loc.start.line&&!d||d&&d.loc.start.line!==c.loc.start.line)&&b.push(c);return b},[])}
function Aa(a){var b={G:4,H:"space",X:{SwitchCase:0,VariableDeclarator:{$:1,Y:1,V:1},o:-1,MemberExpression:-1,FunctionDeclaration:{j:-1,body:1},FunctionExpression:{j:-1,body:1}}},c=b.X;if(0<a.length&&("tab"==a[0]?(b.G=1,b.H="tab"):"number"===typeof a[0]&&(b.G=a[0],b.H="space"),a[1])){a=a[1];c.SwitchCase=a.SwitchCase||0;if("number"===typeof a.VariableDeclarator){var d=a.VariableDeclarator;c.VariableDeclarator={$:d,Y:d,V:d}}else"object"===typeof a.VariableDeclarator&&Object.assign(c.VariableDeclarator,
a.VariableDeclarator);"number"===typeof a.o&&(c.o=a.o);"number"===typeof a.MemberExpression&&(c.MemberExpression=a.MemberExpression);"object"===typeof a.FunctionDeclaration&&Object.assign(c.FunctionDeclaration,a.FunctionDeclaration);"object"===typeof a.FunctionExpression&&Object.assign(c.FunctionExpression,a.FunctionExpression)}return b};var Ba=require("doctrine");
function Y(a,b){b(a);if("NullableLiteral"!==a.type&&"AllLiteral"!==a.type&&"NullLiteral"!==a.type&&"UndefinedLiteral"!==a.type&&"VoidLiteral"!==a.type&&"StringLiteralType"!==a.type&&"NumericLiteralType"!==a.type&&"NameExpression"!==a.type)switch(a.type){case "ArrayType":a.elements.forEach(function(a){return Y(a,b)});break;case "RecordType":a.fields.forEach(function(a){return Y(a,b)});break;case "FunctionType":a.this&&Y(a.this,b);a.params.forEach(function(a){return Y(a,b)});a.result&&Y(a.result,b);
break;case "FieldType":a.value&&Y(a.value,b);break;case "ParameterType":case "RestType":case "NonNullableType":case "OptionalType":case "NullableType":Y(a.expression,b);break;case "TypeApplication":Y(a.expression,b);a.applications.forEach(function(a){return Y(a,b)});break;case "UnionType":a.elements.forEach(function(a){return Y(a,b)});break;default:throw Error("Unrecoginized tag type: "+a+".");}}function Ca(a){return"Block"===a.type&&"*"===a.value.charAt(0)}
function Da(a){var b=["FunctionExpression","ArrowFunctionExpression","ClassExpression"];return T(a,{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",init:function(a){return!!a&&-1!==b.indexOf(a.type)}}]})}function Ea(a){return a.leadingComments&&a.leadingComments.length&&!Da(a)?a.leadingComments.filter(Ca).reverse().pop()||null:null}
function Fa(a){var b="type typedef record const private package protected public export".split(" ");return a.tags.some(function(a){return 0<=I(b,a.title)})}function Ga(a){try{return Ba.parse(a,{ia:!0,unwrap:!0,sloppy:!0})}catch(b){if(b instanceof Error&&/braces/i.test(b.message))throw Error("JSDoc type missing brace.");throw Error("JSDoc syntax error.");}};var Ha=require("doctrine");function Ia(a){var b;if(!(b=!a.type)){b=a.type;var c="NameExpression"==b.type&&"void"==b.name;b="VoidLiteral"==b.type||c}return b||"UndefinedLiteral"===a.type.type}var Ja="string number boolean Object Array Map Set".split(" ");function Ka(a,b){b.type&&Y(b.type,function(b){"NameExpression"===b.type&&(b=b.name,-1!==Ja.indexOf(b)||a.markVariableAsUsed(b))})};var Z={rules:{}};Z.rules.camelcase={meta:{docs:{description:"check identifiers for camel case with options for opt_ prefix and var_args identifiers",category:"Stylistic Issues",recommended:!0},schema:[{type:"object",properties:{U:{type:"boolean"},S:{type:"boolean"},R:{type:"boolean"},T:{type:"boolean"},F:{type:"boolean"}},l:!1}]},create:function(a){var b=Object.assign({},fa,a.options[0]||{});return{Identifier:function(c){c=ga(c,b);c.W&&a.report({node:c.node,message:c.message})}}}};
Z.rules.indent={meta:{docs:{description:"enforce consistent indentation",category:"Stylistic Issues",recommended:!1},fixable:"whitespace",schema:[{u:[{f:["tab"]},{type:"integer",g:0}]},{type:"object",properties:{SwitchCase:{type:"integer",g:0},VariableDeclarator:{u:[{type:"integer",g:0},{type:"object",properties:{$:{type:"integer",g:0},Y:{type:"integer",g:0},V:{type:"integer",g:0}}}]},o:{type:"integer",g:0},MemberExpression:{type:"integer",g:0},FunctionDeclaration:{type:"object",properties:{j:{u:[{type:"integer",
g:0},{f:["first"]}]},body:{type:"integer",g:0}}},FunctionExpression:{type:"object",properties:{j:{u:[{type:"integer",g:0},{f:["first"]}]},body:{type:"integer",g:0}}}},l:!1}]},create:function(a){function b(a,b,c){a=a+" "+g+(1===a?"":"s");var h="space"+(1===b?"":"s"),d="tab"+(1===c?"":"s"),C;0<b&&0<c?C=b+" "+h+" and "+(c+" "+d):0<b?C="space"===g?b:b+" "+h:0<c?C="tab"===g?c:c+" "+d:C="0";return"Expected indentation of "+a+" but"+(" found "+C+".")}function c(h,c,d,f,n,A){var C=("space"===g?" ":"\t").repeat(c),
M=A?[h.range[1]-d-f-1,h.range[1]-1]:[h.range[0]-d-f,h.range[0]];a.report({node:h,loc:n,message:b(c,d,f),fix:function(a){return a.replaceTextRange(M,C)}})}function d(a,b){var h=W(a,m,g,!1);"ArrayExpression"!==a.type&&"ObjectExpression"!==a.type&&(h.b!==b||h.D)&&X(a,m)&&c(a,b,h.J,h.tab)}function e(a,b){a.forEach(function(a){return d(a,b)})}function f(a,b){var h=m.getLastToken(a),d=W(h,m,g,!0);(d.b!==b||d.D)&&X(a,m,!0)&&c(a,b,d.J,d.tab,{start:{line:h.loc.start.line,column:h.loc.start.column}},!0)}function p(a){var b=
W(a,m,g).b,h=a.parent;"Property"===h.type||"ArrayExpression"===h.type?b=W(a,m,g,!1).b:"CallExpression"===h.type&&1<=h.arguments.length&&h.arguments[0].loc.end.line>h.arguments[0].loc.start.line&&G(h.callee)&&!X(a,m)&&(b=W(h,m,g).b);return b}function n(a){var b=a.body,c=p(a),h=l,d;if(d=-1!==k.o)if(ya(a))d=!0;else{var g=a.parent;d=g.parent;if("CallExpression"!==g.type||g.callee!==a)d=!1;else{for(;"UnaryExpression"===d.type||"AssignmentExpression"===d.type||"LogicalExpression"===d.type||"SequenceExpression"===
d.type||"VariableDeclarator"===d.type;)if("UnaryExpression"===d.type)if(g=d,"!"===g.operator||"~"===g.operator||"+"===g.operator||"-"===g.operator)d=d.parent;else break;else d=d.parent;d=("ExpressionStatement"===d.type||"VariableDeclaration"===d.type)&&d.parent&&"Program"===d.parent.type}}d?h=k.o*l:"FunctionExpression"===a.type?h=k.FunctionExpression.body*l:"FunctionDeclaration"===a.type&&(h=k.FunctionDeclaration.body*l);c+=h;(d=V(a,"VariableDeclarator"))&&xa(a,d)&&(c+=l*k.VariableDeclarator[d.parent.kind]);
F(b,c,c-h)}function q(a){if(!G(a)){var b=a.body;a=p(a);F(b,a+l,a)}}function D(a){var b=a.parent,h=V(a,"VariableDeclarator"),d=W(b,m,g).b;if(X(a,m)){if(h)if(b===h)h===h.parent.declarations[0]&&(d+=l*k.VariableDeclarator[h.parent.kind]);else{if("ObjectExpression"===b.type||"ArrayExpression"===b.type||"CallExpression"===b.type||"ArrowFunctionExpression"===b.type||"NewExpression"===b.type||"LogicalExpression"===b.type)d+=l}else("ArrayExpression"!==b.type?0:b.elements[0]&&"ObjectExpression"===b.elements[0].type&&
b.elements[0].loc.start.line===b.loc.start.line)||"MemberExpression"===b.type||"ExpressionStatement"===b.type||"AssignmentExpression"===b.type||"Property"===b.type||(d+=l);var b=d+l,f=W(a,m,g,!1);(f.b!==d||f.D)&&X(a,m)&&c(a,d,f.J,f.tab,{start:{line:a.loc.start.line,column:a.loc.start.column}})}else d=W(a,m,g).b,b=d+l;xa(a,h)&&(b+=l*k.VariableDeclarator[h.parent.kind]);return b}function F(a,b,c){G(a)||(e(a.body,b),f(a,c))}function r(a){var b=W(a,m,g).b,c=b+l;"BlockStatement"===a.body.type?F(a.body,
c,b):e([a.body],c)}function y(a,b,c){"first"===c&&a.params.length?e(a.params.slice(1),a.params[0].loc.start.column):e(a.params,b*c)}function N(a,b){a="SwitchStatement"===a.type?a:a.parent;if(S[a.loc.start.line])return S[a.loc.start.line];"undefined"===typeof b&&(b=W(a,m,g).b);b=0<a.cases.length&&!k.SwitchCase?b:b+l*k.SwitchCase;return S[a.loc.start.line]=b}var A=Aa(a.options),g=A.H,l=A.G,k=A.X,m=a.getSourceCode(),S={};return{Program:function(a){e(a.body,0)},ClassDeclaration:q,ClassExpression:q,BlockStatement:function(a){if(!G(a)&&
("BlockStatement"==a.parent.type||"Program"==a.parent.type)){var b=W(a,m,g).b;F(a,b+l,b)}},DoWhileStatement:r,ForStatement:r,ForInStatement:r,ForOfStatement:r,WhileStatement:r,WithStatement:r,IfStatement:function(a){var b=W(a,m,g).b,c=b+l;"BlockStatement"!==a.consequent.type?H(a,a.consequent)||d(a.consequent,c):(e(a.consequent.body,c),f(a.consequent,b));if(a.alternate){var h=m.getTokenBefore(a.alternate);d(h,b);"BlockStatement"!==a.alternate.type?H(a.alternate,h)||d(a.alternate,c):(e(a.alternate.body,
c),f(a.alternate,b))}},VariableDeclaration:function(a){if(!H(a.declarations[0],a.declarations[a.declarations.length-1])){var b=za(a),c=W(a,m,g).b,d=b[b.length-1],c=c+l*k.VariableDeclarator[a.kind];e(b,c);m.getLastToken(a).loc.end.line<=d.loc.end.line||(b=m.getTokenBefore(d),","===b.value?f(a,W(b,m,g).b):f(a,c-l))}},ObjectExpression:function(a){if(!G(a)){var b=a.properties;if(!(0<b.length&&H(b[0],a))){var c=D(a);e(b,c);f(a,c-l)}}},ArrayExpression:function(a){if(!G(a)){var b=a.elements.filter(function(a){return!!a});
if(!(0<b.length&&H(b[0],a))){var c=D(a);e(b,c);f(a,c-l)}}},MemberExpression:function(a){if(-1!==k.MemberExpression&&!G(a)&&!V(a,"VariableDeclarator")&&!V(a,"AssignmentExpression")){var b=W(a,m,g).b+l*k.MemberExpression,c=[a.property];a=m.getTokenBefore(a.property);"Punctuator"===a.type&&"."===a.value&&c.push(a);e(c,b)}},SwitchStatement:function(a){var b=W(a,m,g).b,c=N(a,b);e(a.cases,c);f(a,b)},SwitchCase:function(a){if(!G(a)){var b=N(a);e(a.consequent,b+l)}},ArrowFunctionExpression:function(a){G(a)||
"BlockStatement"===a.body.type&&n(a)},FunctionDeclaration:function(a){G(a)||(-1!==k.FunctionDeclaration.j&&y(a,l,k.FunctionDeclaration.j),n(a))},FunctionExpression:function(a){G(a)||(-1!==k.FunctionExpression.j&&y(a,l,k.FunctionExpression.j),n(a))}}}};
Z.rules["inline-comment-spacing"]={meta:{docs:{description:"enforce consistent spacing before the `//` at line end",category:"Stylistic Issues",recommended:!1},fixable:"whitespace",schema:[{type:"integer",g:0,ka:5}]},create:function(a){var b=null==a.options[0]?1:a.options[0];return{LineComment:function(c){var d=a.getSourceCode();d.getComments(c);if((d=d.getTokenBefore(c,1)||d.getTokenOrCommentBefore(c))&&c.loc.end.line===d.loc.start.line){var e=c.start-d.end;e<b&&a.report({node:c,message:"Expected at least "+
b+" "+(1===b?"space":"spaces")+" before inline comment.",fix:function(a){return a.insertTextBefore(c,Array(b-e+1).join(" "))}})}}}}};
Z.rules.jsdoc={meta:{docs:{description:"enforce valid JSDoc comments",category:"Possible Errors",recommended:!0},schema:[{type:"object",properties:{ca:{type:"object",l:{type:"string"}},da:{type:"object",l:{type:"string"}},fa:{type:"boolean"},ea:{type:"boolean"},ga:{type:"boolean"},Z:{type:"string"},ha:{type:"boolean"}},l:!1}]},create:function(a){function b(a){e.push({I:"ArrowFunctionExpression"===a.type&&"BlockStatement"!==a.body.type||E(a)})}function c(b,c){Y(c,function(c){if("NameExpression"===
c.type){c=c.name;var d=y[c];d&&a.report({node:b,message:"Use '"+d+"' instead of '"+c+"'."})}})}function d(b){var d=f.getJSDocComment(b),l=e.pop(),k=Object.create(null),m=!1,A=!1,h=!1,y=!1,M=!1,Q;if(d){try{Q=Ha.parse(d.value,{ia:!0,unwrap:!0,sloppy:!0})}catch(La){/braces/i.test(La.message)?a.report({node:d,message:"JSDoc type missing brace."}):a.report({node:d,message:"JSDoc syntax error."});return}Q.tags.forEach(function(b){switch(b.title.toLowerCase()){case "param":case "arg":case "argument":b.type||
a.report({node:d,message:"Missing JSDoc parameter type for '"+b.name+"'."});!b.description&&D&&a.report({node:d,message:"Missing JSDoc parameter description for "+("'"+b.name+"'.")});k[b.name]?a.report({node:d,message:"Duplicate JSDoc parameter '"+b.name+"'."}):-1===b.name.indexOf(".")&&(k[b.name]=1);break;case "return":case "returns":m=!0;q||l.I||b.type&&Ia(b)||M?(r&&!b.type&&a.report({node:d,message:"Missing JSDoc return type."}),Ia(b)||b.description||!F||a.report({node:d,message:"Missing JSDoc return description."})):
a.report({node:d,message:"Unexpected @{{title}} tag; function has no return statement.",data:{title:b.title}});break;case "constructor":case "class":A=!0;break;case "override":case "inheritdoc":y=!0;break;case "abstract":case "virtual":M=!0;break;case "interface":h=!0}P(n.h,b.title)&&b.title!=n.get(b.title)&&a.report({node:d,message:"Use @{{name}} instead.",data:{name:n.get(b.title)}});Ka(a,b);N&&b.type&&c(d,b.type)});y||m||A||h||"FunctionExpression"===b.type&&b.parent&&"Property"===b.parent.type&&
"get"===b.parent.kind||"FunctionExpression"===b.type&&b.parent&&"Property"===b.parent.type&&"set"===b.parent.kind||"FunctionExpression"===b.type&&b.parent&&"MethodDefinition"===b.parent.type&&"constructor"===b.parent.kind||E(b)||(q||l.I)&&a.report({node:d,message:"Missing JSDoc @return for function."});var R=Object.keys(k);b.params&&b.params.forEach(function(b,c){"AssignmentPattern"===b.type&&(b=b.left);var f=b.name;"Identifier"===b.type&&(R[c]&&f!==R[c]?a.report({node:d,message:"Expected JSDoc for '"+
f+"' but found "+("'"+R[c]+"'.")}):k[f]||y||a.report({node:d,message:"Missing JSDoc for parameter '"+f+"'."}))});p.Z&&((new RegExp(p.Z)).test(Q.description)||a.report({node:d,message:"JSDoc description does not satisfy the regex pattern."}))}}var e=[],f=a.getSourceCode(),p=a.options[0]||{},n=new L(p.ca),q=!1!==p.fa,D=!1!==p.ea,F=!1!==p.ga,r=!1!==p.ha,y=p.da||{},N=!!Object.keys(y).length;return{ArrowFunctionExpression:b,FunctionExpression:b,FunctionDeclaration:b,ClassExpression:b,ClassDeclaration:b,
"ArrowFunctionExpression:exit":d,"FunctionExpression:exit":d,"FunctionDeclaration:exit":d,"ClassExpression:exit":d,"ClassDeclaration:exit":d,ReturnStatement:function(a){var b=e[e.length-1];b&&a.argument&&(b.I=!0)},VariableDeclaration:function(b){if(1===b.declarations.length){var c=Ea(b);if(c){var d;try{d=Ga(c.value)}catch(k){return}b=b.declarations[0];"Identifier"===b.id.type&&(b=b.id.name,Fa(d)&&a.markVariableAsUsed(b),d.tags.forEach(function(b){Ka(a,b)}))}}}}}};
Z.rules["no-undef"]={meta:{docs:{description:"disallow the use of undeclared variables unless mentioned in `/*global */` comments",category:"Variables",recommended:!0},schema:[{type:"object",properties:{ja:{type:"boolean"}},l:!1}]},create:function(a){var b=a.options[0],c=b&&!0===b.ja||!1,d=[],e=[];return{Program:function(a){d=a.body.map(ta).filter(function(a){return!!a}).map(function(a){return a.source});e=a.body.map(ua).filter(function(a){return!!a}).map(function(a){return a.source})},"Program:exit":function(){function b(a){return e.some(function(b){return a.startsWith(b)?
a===b||"."===a[b.length]:!1})}function p(a){return d.some(function(b){return a.startsWith(b)?a===b||"."===a[b.length]:!1})}a.getScope().through.forEach(function(d){d=d.identifier;for(var f=d.name,e=d;e.parent&&"MemberExpression"==e.parent.type;)e=e.parent,f+="."+e.property.name;(e=c)||(e=d.parent,e=!("UnaryExpression"===e.type&&"typeof"===e.operator));e&&(b(f)||p(f)||a.report({node:d,message:"'"+d.name+"' is not defined."}))})}}}};
Z.rules["no-unused-expressions"]={meta:{docs:{description:"disallow unused expressions",category:"Best Practices",recommended:!1},schema:[{type:"object",properties:{aa:{type:"boolean"},ba:{type:"boolean"}},l:!1}]},create:function(a){function b(a){if(e&&"ConditionalExpression"===a.type)return b(a.consequent)&&b(a.alternate);if(d&&"LogicalExpression"===a.type)return b(a.right);var c=/^(?:Assignment|Call|New|Update|Yield|Await)Expression$/.test(a.type);a="UnaryExpression"===a.type&&0<=["delete","void"].indexOf(a.operator);
return c||a}var c=a.options[0]||{},d=c.aa||!1,e=c.ba||!1;return{ExpressionStatement:function(c){var d;if(!(d=b(c.expression))){var e=a.getAncestors();d=e[e.length-1];e=e[e.length-2];e="BlockStatement"===d.type&&/Function/.test(e.type);if("Program"===d.type||e){a:{d=d.body;for(e=0;e<d.length;++e)if(!va(d[e])){d=d.slice(0,e);break a}d=d.slice()}d=0<=I(d,c)}else d=!1}if(!d)if(e=Ea(c))try{var f=Ga(e.value);d=Fa(f)}catch(D){d=!1}else d=!1;d||a.report({node:c,message:"Expected an assignment or function call and instead saw an expression."})}}}};
Z.rules["no-unused-vars"]={meta:{docs:{description:"disallow unused variables",category:"Variables",recommended:!0},schema:[{u:[{f:["all","local"]},{type:"object",properties:{s:{f:["all","local"]},A:{type:"string"},m:{f:["all","after-used","none"]},i:{type:"string"},v:{f:["all","none"]},w:{type:"string"},B:{type:"boolean"}}}]}]},create:function(a){function b(a,b){return a.range[0]>=b.range[0]&&a.range[1]<=b.range[1]}function c(a,c){var d=a;for(a=a.parent;a&&b(a,c);){switch(a.type){case "SequenceExpression":var e=
a;if(e.expressions[e.expressions.length-1]!==d)return!1;break;case "CallExpression":case "NewExpression":return a.callee!==d;case "AssignmentExpression":case "TaggedTemplateExpression":case "YieldExpression":return!0;default:if(D.test(a.type))return!0}d=a;a=a.parent}return!1}function d(a){var d=a.defs.filter(function(a){return"FunctionName"===a.type}).map(function(a){return a.node}),e=0<d.length,f=null;return a.references.some(function(a){var g;g=a.identifier.parent;"VariableDeclarator"===g.type&&
(g=g.parent.parent);"ForInStatement"!==g.type?g=!1:("BlockStatement"===g.body.type?g=g.body.body[0]:g=g.body,g=g?"ReturnStatement"===g.type:!1);if(g)return!0;g=f;var l=a.identifier,k=l.parent,m=k.parent,n;if(n=a.isRead())!(k="AssignmentExpression"===k.type&&"ExpressionStatement"===m.type&&k.left===l||"UpdateExpression"===k.type&&"ExpressionStatement"===m.type)&&(k=g&&b(l,g))&&(l=ra(l,sa),k=!(l&&b(l,g)&&c(l,g))),n=k;g=n;l=f;k=a.identifier;m=k.parent;n=m.parent;var h;if(!(h=a.from.variableScope!==a.resolved.scope.variableScope))a:{for(h=
k;h;){if(/^(?:DoWhile|For|ForIn|ForOf|While)Statement$/.test(h.type)){h=!0;break a}if(sa(h))break;h=h.parent}h=!1}f=l&&b(k,l)?l:"AssignmentExpression"!==m.type||"ExpressionStatement"!==n.type||k!==m.left||h?null:m.right;if(g=a.isRead()&&!g){if(g=e)a:{for(a=a.from;a;){if(0<=d.indexOf(a.block)){g=!0;break a}a=a.upper}g=!1}g=!g}return g})}function e(b){var c=b.defs[0];return c.index===c.node.params.length-1||n.i&&(c=a.getDeclaredVariables(c.node),c.slice(c.indexOf(b)+1).every(function(a){return!a.references.length&&
n.i&&n.i.test(a.name)}))?!0:!1}function f(a,b){var c=a.variables,p=a.childScopes,r,g;if("TDZ"!==a.type&&("global"!==a.type||"all"===n.s))for(r=0,g=c.length;r<g;++r){var l=c[r];if(!("class"===a.type&&a.block.id===l.identifiers[0]||a.functionExpressionScope||l.u||"function"===a.type&&"arguments"===l.name&&!l.identifiers.length)){var k=l.defs[0];if(k){var m=k.type;if("CatchClause"===m){if("none"===n.v)continue;if(n.w&&n.w.test(k.name.name))continue}if("Parameter"===m){if("Property"===k.node.parent.type&&
"set"===k.node.parent.kind)continue;if("none"===n.m)continue;if(n.i&&n.i.test(k.name.name))continue;if("after-used"===n.m&&!e(l))continue}else if(n.A&&n.A.test(k.name.name))continue}if(!(k=d(l)))a:if(k=l.defs[0]){m=k.node;if("VariableDeclarator"===m.type)m=m.parent;else if("Parameter"===k.type){k=!1;break a}k=!m.parent.type.indexOf("Export")}else k=!1;k||b.push(l)}}r=0;for(g=p.length;r<g;++r)f(p[r],b);return b}function p(a){var b=a.eslintExplicitGlobalComment,c=b.loc.start;a=new RegExp("[\\s,]"+String(a.name).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")+"(?:$|[\\s,:])","g");a.lastIndex=b.value.indexOf("global")+6;a=(a=a.exec(b.value))?a.index+1:0;var b=b.value.slice(0,a),d=(b.match(/\n/g)||[]).length;a=0<d?a-(1+b.lastIndexOf("\n")):a+(c.column+2);return{start:{line:c.line+d,column:a}}}var n={s:"all",m:"after-used",v:"none",B:!1},q=a.options[0];q&&("string"==typeof q?n.s=q:(n.s=q.s||n.s,n.m=q.m||n.m,n.v=q.v||n.v,q.A&&(n.A=new RegExp(q.A)),q.i&&(n.i=new RegExp(q.i)),q.w&&(n.w=new RegExp(q.w)),q.B&&(n.B=q.B)));var D=/(?:Statement|Declaration)$/;
return{"Program:exit":function(b){f(a.getScope(),[]).forEach(function(c){c.f?a.report({node:b,loc:p(c),message:"'{{name}}' is defined but never used.",data:c}):0<c.defs.length&&a.report({node:c.identifiers[0],message:"'{{name}}' is defined but never used.",data:c})})}}}};module.exports=Z;
